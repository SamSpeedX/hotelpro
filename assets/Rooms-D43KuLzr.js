import{r as i,j as e}from"./index-DZRB0w15.js";import{R as N}from"./constants-C2JkQZys.js";import"./createLucideIcon-W-rLxruO.js";import"./users-C2wOMRCr.js";import"./sparkles-Dyi6snfu.js";import"./map-pin-Bey3bHLT.js";const E=()=>{const[l,n]=i.useState([]),[g,h]=i.useState(!0),[u,d]=i.useState(!1),[r,x]=i.useState(null),[a,m]=i.useState({roomNumber:"",type:"",capacity:1,price:0,description:"",image:""});i.useEffect(()=>{n(N),h(!1)},[]);const o=s=>{const{name:t,value:c}=s.target;m(j=>({...j,[t]:t==="capacity"||t==="price"?Number(c):c}))},b=async s=>{s.preventDefault();try{if(r)await fetch(`/api/rooms/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n(l.map(t=>t.id===r?{...a,id:r,gallery:[]}:t));else{const c=await(await fetch("/api/rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();n([...l,c])}p()}catch(t){console.error("Error saving room:",t)}},y=s=>{m({roomNumber:s.roomNumber,type:s.type,capacity:s.capacity,price:s.price,description:s.description||"",image:s.image||""}),x(s.id),d(!0)},f=async s=>{if(confirm("Are you sure you want to delete this room?"))try{await fetch(`/api/rooms/${s}`,{method:"DELETE"}),n(l.filter(t=>t.id!==s))}catch(t){console.error("Error deleting room:",t)}},p=()=>{m({type:"",capacity:1,price:0,description:"",image:""}),x(null),d(!1)};return g?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):e.jsx("div",{className:"p-8 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Room Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your hostel rooms"})]}),e.jsx("button",{onClick:()=>d(!u),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 shadow-lg transition-all duration-200 font-semibold",children:"+ Add Room"})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-md shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:r?"Edit Room":"Add New Room"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type"}),e.jsx("input",{type:"text",name:"type",placeholder:"e.g., Deluxe, Standard",value:a.type,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Rooms"}),e.jsx("input",{type:"number",name:"price",placeholder:"0",value:a.price,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),e.jsx("input",{type:"number",name:"capacity",placeholder:"1",value:a.capacity,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price/Night"}),e.jsx("input",{type:"number",name:"price",placeholder:"0",value:a.price,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",placeholder:"Room description...",value:a.description,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),e.jsx("input",{type:"text",name:"image",placeholder:"https://example.com/image.jpg",value:a.image,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-semibold transition-colors",children:r?"Update Room":"Add Room"}),e.jsx("button",{type:"button",onClick:p,className:"flex-1 bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500 font-semibold transition-colors",children:"Cancel"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.jsx("div",{className:"relative h-48 bg-gray-200 overflow-hidden group",children:e.jsx("img",{src:s.image,alt:"room",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"p-5",children:[e.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:["Room ",s.roomNumber]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Type:"})," ",s.type]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Capacity:"})," ",s.capacity," guests"]}),e.jsxs("p",{className:"text-blue-600 font-bold text-lg",children:["$",s.price,e.jsx("span",{className:"text-xs text-gray-500",children:"/night"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y(s),className:"flex-1 bg-blue-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-600 transition-colors font-medium",children:"Edit"}),e.jsx("button",{onClick:()=>f(s.id),className:"flex-1 bg-red-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-red-600 transition-colors font-medium",children:"Delete"})]})]})]},s.id))})]})})};export{E as default};
