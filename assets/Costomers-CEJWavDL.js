import{r as l,j as e}from"./index-DZRB0w15.js";import{C as M,b as A}from"./constants-C2JkQZys.js";import{P as F}from"./plus-BNrkclgg.js";import{S as L}from"./search-DAcKBCRf.js";import{M as R}from"./mail-Bvy4VvMx.js";import{P as I}from"./phone-CvPOOGFl.js";import{E as G}from"./eye-doFF1loZ.js";import{P as O}from"./pen-ILOhIR6s.js";import{P as j}from"./printer-03JAI_cz.js";import{T as q}from"./trash-2-Dx1qOmet.js";import{c as B}from"./createLucideIcon-W-rLxruO.js";import{X as N}from"./x-Dl2hfdT2.js";import"./users-C2wOMRCr.js";import"./sparkles-Dyi6snfu.js";import"./map-pin-Bey3bHLT.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_=B("circle-alert",U);function ne(){const[d,m]=l.useState(M),[u,V]=l.useState(A),[x,v]=l.useState(""),[w,i]=l.useState(!1),[c,b]=l.useState(null),[o,C]=l.useState(null),[S,h]=l.useState(!1),[f,p]=l.useState(null),[r,n]=l.useState({name:"",email:"",phone:"",address:""}),y=d.filter(t=>t.name.toLowerCase().includes(x.toLowerCase())||t.email.toLowerCase().includes(x.toLowerCase())),k=()=>{b(null),n({name:"",email:"",phone:"",address:""}),i(!0)},$=t=>{b(t.id),n({name:t.name,email:t.email,phone:t.phone,address:t.address}),i(!0)},D=t=>{C(t),h(!0)},E=t=>{const s=`
            <h2>${t.name}</h2>
            <p>Email: ${t.email}</p>
            <p>Phone: ${t.phone}</p>
            <p>Address: ${t.address}</p>
            <p>Member Since: ${new Date(t.memberSince).toLocaleDateString()}</p>
            <p>Total Stays: ${t.totalStays}</p>
            <p>Total Spent: $${t.totalSpent}</p>
        `,a=window.open("","","height=500,width=800");a==null||a.document.write(s),a==null||a.document.close(),a==null||a.print()},P=t=>{p(t)},z=t=>{m(d.filter(s=>s.id!==t)),p(null)},T=t=>{if(t.preventDefault(),c)m(d.map(s=>s.id===c?{...s,...r}:s));else{const s={id:Date.now().toString(),...r,memberSince:new Date().toISOString().split("T")[0],totalStays:0,totalSpent:0};m([...d,s])}i(!1)};return e.jsxs("div",{className:"min-h-screen w-screeni bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[e.jsxs("div",{className:"grid p-2 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("div",{className:"",children:e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Guest Management"})}),e.jsxs("button",{onClick:k,className:"flex items-center gap-2 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-lg hover:from-amber-700 hover:to-amber-800 transition-all duration-300 shadow-lg font-semibold text-white px-6 py-3 rounded-lg transition shadow-lg hover:shadow-xl transform hover:scale-105 duration-200",children:[e.jsx(F,{size:20})," Add Guest"]})]}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx(L,{className:"absolute left-3 top-3 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:x,onChange:t=>v(t.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"})]}),e.jsx("div",{className:"overflow-y-scroll border border-gray-200 rounded-lg shadow-lg bg-white",children:e.jsxs("table",{className:"w-full overflow-x-scroll",children:[e.jsx("thead",{className:"bg-gradient-to-r from-amber-600 to-amber-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-semibold text-left",children:"Name"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-left",children:"Contact"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-left",children:"Stays"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-left",children:"Total Spent"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-left",children:"Member Since"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-left",children:"Actions"})]})}),e.jsx("tbody",{children:y.map(t=>e.jsxs("tr",{className:"border-t border-gray-200 hover:bg-blue-50 transition",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:t.name}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{size:16,className:"text-blue-500"})," ",t.email]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{size:16,className:"text-green-500"})," ",t.phone]})]})}),e.jsx("td",{className:"px-6 py-4 text-gray-900 font-semibold",children:t.totalStays}),e.jsxs("td",{className:"px-6 py-4 font-bold text-blue-600",children:["$",t.totalSpent.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(t.memberSince).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{title:"View guest bills",onClick:()=>D(t),className:"p-2 hover:bg-blue-200 rounded-lg transition duration-200 transform hover:scale-110",children:e.jsx(G,{size:18,className:"text-blue-600"})}),e.jsx("button",{title:"Edit guest info",onClick:()=>$(t),className:"p-2 hover:bg-green-200 rounded-lg transition duration-200 transform hover:scale-110",children:e.jsx(O,{size:18,className:"text-green-600"})}),e.jsx("button",{title:"Print registration form",onClick:()=>E(t),className:"p-2 hover:bg-purple-200 rounded-lg transition duration-200 transform hover:scale-110",children:e.jsx(j,{size:18,className:"text-purple-600"})}),e.jsx("button",{onClick:()=>P(t.id),title:"Delete guest record",className:"p-2 hover:bg-red-200 rounded-lg transition duration-200 transform hover:scale-110",children:e.jsx(q,{size:18,className:"text-red-600"})})]})})]},t.id))})]})}),y.length===0&&e.jsx("div",{className:"text-center py-12 bg-white rounded-lg mt-4",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No guests found"})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-sm w-full p-6",children:[e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsx(_,{size:24,className:"text-red-600 flex-shrink-0"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Guest Record"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this guest record? This action cannot be undone. Your Maneger will get notification about this acction."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{onClick:()=>z(f),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Delete"})]})]})}),S&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 bg-gradient-to-r from-amber-700 to-amber-900 text-white rounded-t-lg",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[o.name," - Billing Details"]}),e.jsx("button",{onClick:()=>h(!1),className:"text-white hover:bg-white hover:bg-opacity-20 p-1 rounded transition",children:e.jsx(N,{size:24})})]}),e.jsx("div",{className:"p-6 space-y-6",children:u.filter(t=>t.id===o.id).map(t=>e.jsxs("div",{className:"border border-gray-300 rounded-lg p-6 bg-gradient-to-br from-gray-50 to-white",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Room Type"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.room})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Room Price"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.price]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Extra Charges"]}),t.extra.length>0?e.jsx("div",{className:"space-y-2",children:t.extra.map((s,a)=>e.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded",children:[e.jsxs("span",{className:"text-gray-700",children:[s.name," x",s.total]}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",s.price]})]},a))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No extra charges"})]}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 mb-6",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Overstay Fee:"})," ",e.jsxs("span",{className:"text-red-600 font-semibold",children:["$",t.overstrayFee]})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-700 to-amber-800 p-4 rounded-lg text-white mb-6",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Total Amount Due"}),e.jsxs("p",{className:"text-4xl font-bold",children:["$",t.totalSpent.toLocaleString()]})]})]},t.id))}),e.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50 sticky bottom-0",children:[e.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition font-medium",children:"Close"}),e.jsxs("button",{onClick:()=>{const t=`
                                        <style>
                                            body { font-family: Arial, sans-serif; margin: 20px; }
                                            h2 { color: #1e40af; border-bottom: 2px solid #1e40af; padding-bottom: 10px; }
                                            .details { margin: 20px 0; }
                                            .row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e5e7eb; }
                                            .total { font-size: 24px; font-weight: bold; color: #1e40af; margin-top: 20px; padding: 15px; background: #eff6ff; border-radius: 8px; }
                                        </style>
                                        <h2>Invoice - ${o.name}</h2>
                                        <p><strong>Email:</strong> ${o.email}</p>
                                        <p><strong>Phone:</strong> ${o.phone}</p>
                                        <div class="details">
                                            ${u.filter(a=>a.id===o.id).map(a=>`
                                                    <div class="row"><span>Room (${a.room}):</span><span>$${a.price}</span></div>
                                                    ${a.extra.map(g=>`<div class="row"><span>${g.name} x${g.total}:</span><span>$${g.price}</span></div>`).join("")}
                                                    <div class="row"><span>Overstay Fee:</span><span>$${a.overstrayFee}</span></div>
                                                    <div class="total">Total: $${a.totalSpent}</div>
                                                `).join("")}
                                        </div>
                                    `,s=window.open("","","height=600,width=900");s==null||s.document.write(t),s==null||s.document.close(),s==null||s.print()},className:"flex-1 px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition font-medium flex items-center justify-center gap-2 shadow-lg",children:[e.jsx(j,{size:18})," Print Invoice"]}),e.jsx("button",{onClick:()=>alert("PDF download feature coming soon!"),className:"flex-1 px-4 py-3 bg-gradient-to-r from-amber-700 to-amber-900 hover:bg-blue-700 text-white rounded-lg transition font-medium shadow-lg",children:"Download PDF"})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-amber-700 to-amber-800 text-white rounded-t-lg",children:[e.jsx("h2",{className:"text-xl font-semibold",children:c?"Edit Guest Information":"Register New Guest"}),e.jsx("button",{onClick:()=>i(!1),className:"text-white hover:text-red-700 hover:bg-gray-900/10 hover:bg-opacity-20 p-1 rounded transition",children:e.jsx(N,{size:24})})]}),e.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",placeholder:"Eg, Sam Ochu",required:!0,value:r.name,onChange:t=>n({...r,name:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",required:!0,placeholder:"Eg, sam@gmail.com",value:r.email,onChange:t=>n({...r,email:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),e.jsx("input",{type:"tel",required:!0,placeholder:"Eg, +1-555-0123",value:r.phone,onChange:t=>n({...r,phone:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),e.jsx("input",{type:"text",required:!0,placeholder:"Eg, 123 Main St, City, Country",value:r.address,onChange:t=>n({...r,address:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-amber-700 to-amber-800 text-white rounded-lg hover:bg-gradient-to-r from-amber-700 to-amber-700 transition font-medium shadow-lg",children:[c?"Update":"Register"," Guest"]})]})]})]})})]})}export{ne as default};
